(this["webpackJsonpreact-template"]=this["webpackJsonpreact-template"]||[]).push([[0],{100:function(e,t,a){},102:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(8),r=a.n(i),c=(a(82),a(83),a(12)),l=a(61),s=a.n(l),m=a(5);function u(e){return{type:"SET_SCENE",_change_scene:e}}function d(e){return{type:"SETSELECTIMGINDEX",_selectImgIndex:e}}var p=a(137),g=(a(31),a(3));function h(e){f(0==e?"onFitScreen":"onFullScreen")}function f(e){void 0!=window&&void 0!=window.parent&&(console.log("SendMessage parent:"+e),window.parent.postMessage(e,"*"))}var v=Object(p.a)((function(e){return{root:{position:"fixed",backgroundColor:"#FFFFFF88",width:"100%",height:"65px",bottom:"0px",left:"0%"}}})),b=function(e){var t=e.onClick,a=e.rewardCategory,n=e.rewardExp,i=v();return o.a.createElement("div",{className:i.root},o.a.createElement("div",{onClick:t,className:"quest_reward_main_button"},o.a.createElement("span",null,"\uc644\ub8cc\ud558\uace0 \ubcf4\uc0c1 \ubc1b\uae30")),o.a.createElement("div",{onClick:t,className:"quest_reward_button"},o.a.createElement("img",{src:function(){switch(a){case"strength":return"https://goli8111.github.io/level-up/images/card_assets/icon_power.png";case"dexterity":return"https://goli8111.github.io/level-up/images/card_assets/icon_knowledge.png";case"intelligence":return"https://goli8111.github.io/level-up/images/card_assets/icon_skill.png";case"wisdom":return"https://goli8111.github.io/level-up/images/card_assets/icon_wisdom.png"}}()}),o.a.createElement("span",null,n)))},E=(a(100),Object(p.a)((function(e){return{root:{width:"100%",height:"100%",textAlign:"left"},contents_site_link:{position:"absolute",height:"100%",width:"100%",frameBorder:0}}}))),w={set_scene:u},C=Object(m.b)((function(e){return{}}),w)((function(e){console.log("PortraitMasterContentsIntro component start");var t=E();return o.a.createElement("div",{className:t.root},o.a.createElement("span",{className:"title_text"},"3\ubd84\ud560 \uad50\ucc28\uc810 \uad6c\ub3c4"),o.a.createElement("br",null),o.a.createElement("img",{alt:"",src:"images/image2.png",className:"imageStyle"}),o.a.createElement("p",{className:"c4"},o.a.createElement("span",{className:"c2"},"\uc801\uc808\ud55c \uc5ec\ubc31\uc744 \ud1b5\ud574 \uc548\uc815\uac10\uc744 \uc8fc\ub294 \uad6c\ub3c4\uc785\ub2c8\ub2e4. ")),o.a.createElement("p",{className:"c4"},o.a.createElement("span",{className:"c2"},"\uc0ac\uc9c4 \ud504\ub808\uc784\uc744 \uac00\ub85c, \uc138\ub85c \uac01\uac01 3\ub4f1\ubd84 \ud574\uc11c \uad50\ucc28\ud558\ub294 4\uc810\uc744 \uae30\uc900\uc73c\ub85c \uc778\ubb3c\uc744 \ubc30\uce58\ud569\ub2c8\ub2e4. \xa0\uc0c1\ub2e8 2\uac1c\uc758 \uad50\ucc28\uc810 \uc911 \ud55c \uacf3\uc5d0 \uc5bc\uad74 \ud639\uc740 \ub208\uc744 \ubc30\uce58\ud574\ubcf4\uc138\uc694.")),o.a.createElement("p",{className:"c1"},o.a.createElement("span",{className:"c2"})),o.a.createElement("p",{className:"c1"},o.a.createElement("span",{className:"c2"})),o.a.createElement("p",{className:"c4"},o.a.createElement("br",null),o.a.createElement("img",{alt:"",src:"images/image1.png",className:"imageStyle"})),o.a.createElement("p",{className:"c4"},o.a.createElement("span",{className:"c2"},"\uc774\ub807\uac8c\uc694!")),o.a.createElement("p",{className:"c1"},o.a.createElement("span",{className:"c2"})),o.a.createElement("h1",{className:"c5",id:"h.swur9s1vrik6"},o.a.createElement("span",{className:"c6"},"\ub3c4\uc804 \uacfc\uc81c: \uc0ac\uc9c4 \ucc0d\uae30")),o.a.createElement("ul",{className:"c3 lst-kix_caq9dug8t2jg-0 start"},o.a.createElement("li",{className:"c0"},o.a.createElement("span",{className:"c2"},"3\ubd84\ud560 \uad50\ucc28\uc810 \uad6c\ub3c4\ub85c \uc778\ubb3c \uc0ac\uc9c4\uc744 \ucc0d\uc5b4 \ubd05\ub2c8\ub2e4. ")),o.a.createElement("li",{className:"c0"},o.a.createElement("span",{className:"c8"},"\uc790\ub3d9\uc73c\ub85c \uaca9\uc790 \ubaa8\ub4dc\uac00 \ud65c\uc131\ud654\ub429\ub2c8\ub2e4.")),o.a.createElement("li",{className:"c0"},o.a.createElement("span",{className:"c2"},"\ub2e4\uc74c \uc870\uac74\uc744 \ub9cc\uc871\uc2dc\ucf1c\uc57c \ud569\ub2c8\ub2e4."))),o.a.createElement("ul",{className:"c3 lst-kix_caq9dug8t2jg-1 start"},o.a.createElement("li",{className:"c4 c9"},o.a.createElement("span",{className:"c8"},"\uc0c1\ub2e8 2\uac1c\uc758 \uad50\ucc28\uc810\uc5d0 \uc778\ubb3c\uc758 \uc5bc\uad74\uc774\ub098 \ub208\uc744 \ub9de\ucda5\ub2c8\ub2e4."))),o.a.createElement("ul",{className:"c3 lst-kix_caq9dug8t2jg-0"},o.a.createElement("li",{className:"c0"},o.a.createElement("span",{className:"c2"},"\uac00\uc7a5 \ub9c8\uc74c\uc5d0 \ub4dc\ub294 \uc0ac\uc9c4\uc744 \ub9c8\uc2a4\ud130\uc5d0\uac8c \uc81c\ucd9c\ud558\uc138\uc694."))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null))})),_=Object(p.a)((function(e){return{root:{width:"100%",height:"100%"},ContentsTitle:{position:"relative",textAlign:"left",fontSize:"20px",color:"black",left:"4%",width:"100%",height:"25px"},ContentsBody:{position:"relative",left:"4%",width:"92%",height:"70px",backgroundColor:"gray"},ContentsText:{position:"absolute",textAlign:"left",left:"0px",width:"100%",color:"white",fontSize:"17px"}}})),y={set_scene:u},x=Object(m.b)((function(e){return{}}),y)((function(e){console.log("PortraitMasterContentsFeedback component start");var t=_();return o.a.createElement("div",{className:t.root},o.a.createElement("div",{className:t.ContentsTitle},"\ub9c8\uc2a4\ud130 \ucf54\uba58\ud2b8 (\ud074\ub9ac\uc5b4)"),o.a.createElement("div",{className:t.ContentsBody},o.a.createElement("span",{className:t.ContentsText},o.a.createElement("ul",null,o.a.createElement("li",null,"\ud018\uc2a4\ud2b8 \ud074\ub9ac\uc5b4! \uad6c\ub3c4\ub97c \uc798 \uc7a1\uc544\uc8fc\uc168\uc2b5\ub2c8\ub2e4."),o.a.createElement("li",null,"\ub2e4\ub9cc \ud53c\uc0ac\uccb4\uc758 \uc2dc\uc120 \ubc29\ud5a5\uc73c\ub85c \uc5ec\ubc31\uc744 \ub450\ub294 \uad6c\ub3c4\ub85c\ub3c4 \uc0ac\uc9c4\uc744 \ucc0d\uc5b4\ubcf4\uc2dc\uba74 \uc88b\uaca0\uc2b5\ub2c8\ub2e4. \ubcf4\ub2e4 \uc548\uc815\uc801\uc778 \ub290\ub08c\uc774 \ub4e4 \uac81\ub2c8\ub2e4.")))))}));a(112);function k(e){console.log("playSound:"+e);(void 0==window.HybridApp?new Audio("./sound/"+e):new Audio("file:///android_asset/sound/"+e)).play()}function S(){k("Common_Button_Enabled_Touch.wav")}function D(){k("Common_Button_Disabled_Touch.wav")}var I=Object(p.a)((function(e){return{root:{width:"100%",height:"100%",overflow:"hidden"},ImgList:{display:"flex",overflow:"auto"}}})),N={set_scene:u,SetSelectImgIndex:d},A=Object(m.b)((function(e){return{_canvasData:e.camera._canvasData,_selectImgIndex:e.scene._selectImgIndex,_current_scene:e.scene._current_scene}}),N)((function(e){var t=e.set_scene,a=e.isComplete,n=e._current_scene,i=e._selectImgIndex,r=e.SetSelectImgIndex,c=e._canvasData;console.log("PortraitMasterSimpleCaptureList component start");var l=I(),s=function(e){console.log("img click index:"+e),r(e),t("FullScreenCaptureList"),S()},m=function(e,t){return"PortraitMasterStamp"==n&&0==e?o.a.createElement("div",{className:"SimpleCaptureImageList_node",onClick:function(){return s(e)}},o.a.createElement("img",{src:t}),1==a?o.a.createElement("span",{className:"SimpleCaptureImageList_clear_node"},"\ud074\ub9ac\uc5b4"):o.a.createElement("span",null,"\uc2a4\ud0ec\ud504 \uc694\uccad")):o.a.createElement("div",{className:"SimpleCaptureImageList_node",onClick:function(){return s(e)}},o.a.createElement("img",{src:t}))};return o.a.createElement("div",{className:l.root},o.a.createElement("div",{className:"simple_capture_left_title"},"\ub0b4 \uc0ac\uc9c4"),o.a.createElement("img",{className:"simple_capture_right_title",onClick:function(){console.log("onClickGridCaptureList"),t("GridCaptureList"),S()},src:"img/image-modify-icon.png"}),o.a.createElement("div",null,o.a.createElement("br",null),o.a.createElement("div",{className:"SimpleCaptureImageList"},function(){var e=[];if("PortraitMasterStamp"==n){if(void 0!=window.HybridApp){var t=window.HybridApp.GetImageDataFromDirectory(i);e.push(m(0,t))}else e.push(m(0,c[i]));if(void 0!=window.HybridApp){for(var a=window.HybridApp.GetDirectoryFileCount()-1;a>=0;a--)if(i!=a){t=window.HybridApp.GetImageDataFromDirectory(a);e.push(m(a+1,t))}}else for(a=c.length-1;a>=0;a--)i!=a&&e.push(m(a+1,c[a]))}else if(void 0!=window.HybridApp)for(a=window.HybridApp.GetDirectoryFileCount()-1;a>=0;a--){t=window.HybridApp.GetImageDataFromDirectory(a);e.push(m(a,t))}else for(a=c.length-1;a>=0;a--)e.push(m(a,c[a]));return e}())))})),O=a(141),T=a(144),j=a(140),B=a(146),F=function(e){var t=e.title,a=e.onOKClick,n=e.onCloseClick,i=e.openDialog;return o.a.createElement("div",null,o.a.createElement(T.a,{open:i,onClose:n,"aria-labelledby":"alert-dialog-title"},o.a.createElement(B.a,{id:"alert-dialog-title",style:{textAlign:"center"}},t),o.a.createElement(j.a,null,o.a.createElement(O.a,{onClick:n,color:"primary"},"\ucde8\uc18c"),o.a.createElement(O.a,{onClick:a,color:"primary",autoFocus:!0},"\ud655\uc778"))))},L=Object(p.a)((function(e){return{root:{width:"100%"},BottomBarBack:{position:"fixed",backgroundColor:"#FFFFFF88",width:"100%",height:"11%",top:"89%",left:"0%"},BottomBarButtonBase:{position:"fixed",height:"8%",top:"90%",background:"linear-gradient(90deg, #cc6699 30%, #6666ff 80%)",borderRadius:3,border:0,color:"white",boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .3)"},BottomBarButtonLeft:{width:"44%",left:"3%"},BottomBarButtonRight:{width:"44%",left:"53%"},BottomBarButton:{width:"94%",left:"3%"},divLine:{border:"1px solid",color:"#DDDDDD",width:"95%"}}})),H={set_scene:u},M=Object(m.b)((function(e){return{_canvasData:e.camera._canvasData,_selectImgIndex:e.scene._selectImgIndex,_current_scene:e.scene._current_scene}}),H)((function(e){e._selectImgIndex;var t=e._current_scene,a=e.set_scene,n=e._canvasData,i=e.rewardState,r=e.rewardCategory,l=e.rewardExp;console.log("PortraitMaster component start");var s,m,u=L(),d=o.a.useState(!1),p=Object(c.a)(d,2),h=p[0],v=p[1],E=(Object(g.a)(u.BottomBarButtonBase,u.BottomBarButtonRight),Object(g.a)(u.BottomBarButtonBase,u.BottomBarButtonLeft),Object(g.a)(u.BottomBarButtonBase,u.BottomBarButton),function(){console.log("onCameraCapture call"),a("CameraCapture"),S()}),w=void 0!=window.HybridApp?window.HybridApp.GetDirectoryFileCount():n.length;1==i?(m=o.a.createElement(b,{onClick:function(){v(!0),S()},rewardCategory:r,rewardExp:l}),s=o.a.createElement("div",null,o.a.createElement(A,{isComplete:!0})," ",o.a.createElement("hr",{className:u.divLine}))):(console.log("=============_current_scene:"+t),"PortraitMasterStamp"==t?(m=o.a.createElement("div",{className:"quest_main_disable_button",onClick:function(){S(),f("onSuccessAndLeave")}},o.a.createElement("span",null,"\uc2a4\ud0ec\ud504 \ub300\uae30 \uc911")),s=o.a.createElement("div",null,o.a.createElement(A,null)," ",o.a.createElement("hr",{className:u.divLine}))):0==w?m=o.a.createElement("div",{className:"quest_main_button",onClick:E},o.a.createElement("span",null,"\uc0ac\uc9c4 \ucc0d\uae30")):(s=o.a.createElement("div",null,o.a.createElement(A,null)," ",o.a.createElement("hr",{className:u.divLine})),m=o.a.createElement("div",null,o.a.createElement("div",{className:"quest_main_left_button",onClick:E},o.a.createElement("span",null,"\uc0ac\uc9c4 \ucc0d\uae30")),o.a.createElement("div",{className:"quest_main_right_button",onClick:function(){console.log("onCameraCaptureSubmit call"),a("SubmitCaptureList"),S()}},o.a.createElement("span",null,"\uc81c\ucd9c\ud558\uae30")))));return o.a.createElement("div",{className:"MainSceneRoot"},s,function(){if(0!=i&&"PortraitMasterStamp"!=t)return o.a.createElement("div",null,o.a.createElement(x,null),o.a.createElement("hr",{className:u.divLine}))}(),o.a.createElement(C,null),o.a.createElement("div",{className:u.BottomBarBack},m),o.a.createElement(F,{title:"\uc644\ub8cc\ud558\uba74 \ud018\uc2a4\ud2b8\uc5d0 \uc800\uc7a5\ud55c \uc0ac\uc9c4\uc774 \ubaa8\ub450 \uc9c0\uc6cc\uc9d1\ub2c8\ub2e4. \ud018\uc2a4\ud2b8\ub97c \uc644\ub8cc\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",onOKClick:function(){console.log("onGetReward call"),f("onGetReward"),v(!1)},onCloseClick:function(){v(!1),S()},openDialog:h}))})),G=a(22),R=a.n(G),V=a(37),P=a(63),U=a(64),q=a(42),W=a(68),X=a(70);function z(e){return{type:"DELETECANVASDATA",_deleteCanvasDataIndex:e}}var K=!1,J={position:"fixed",left:"0px",top:"0",width:"100%",height:"11.6%"},Y={position:"fixed",left:"0px",top:"88.4%",height:"11.6%",width:"100%"},$={position:"fixed",left:"0%",top:"0%",width:"100%",height:"100%",zIndex:"-3",backgroundColor:"black"},Q={position:"fixed",left:"0%",width:"100%",height:"auto",top:"50%",transform:"translate(0%, -50%)",zIndex:"-2"},Z={position:"fixed",left:"0%",width:"100%",height:"auto",top:"50%",transform:"translate(0%, -50%)",zIndex:"-1"},ee={position:"fixed",height:"5.1%",left:"10%",top:"91.5%"},te={position:"fixed",height:"9.1%",left:"40%",top:"89.5%"},ae={position:"fixed",height:"5.1%",left:"75%",top:"91.5%"},ne={position:"fixed",height:"5.1%",left:"5%",top:"3.5%"},oe={position:"fixed",height:"5.1%",left:"25%",top:"3.5%"},ie={position:"fixed",height:"5.1%",left:"45%",top:"3.5%"},re={position:"fixed",height:"2.1%",left:"65%",top:"5%"},ce={position:"fixed",height:"5.1%",left:"85%",top:"3.5%"},le=function(e){Object(X.a)(a,e);var t=Object(W.a)(a);function a(e){var n;return Object(P.a)(this,a),(n=t.call(this,e,a.defaultProps)).getCanvas=function(e){n.canvas=e},n.getCanvasOverlay=function(e){n.canvasOverlay=e},n.getVideo=function(e){n.video=e},n.updateCameraGrid=function(e){var t=n.video;if(void 0!=t){var a=n.canvasOverlay;if(void 0!=a){var o=a.getContext("2d");if(void 0!=o&&(t.videoWidth==a.width&&t.videoHeight==a.height||(a.width=t.videoWidth,a.height=t.videoHeight,o.width=t.videoWidth,o.height=t.videoHeight),o.clearRect(0,0,a.width,a.height),1==e)){o.save(),o.strokeStyle="rgb(255,0,0)",o.lineWidth=5,o.globalAlpha=.3;for(var i=0;i<=a.width;i+=a.width/3)o.moveTo(i,0),o.lineTo(i,a.height);for(var r=0;r<=a.height;r+=a.height/3)o.moveTo(0,r),o.lineTo(a.width,r);o.stroke(),o.restore()}}}},n.onNextCamera=function(){K=!K,console.log("user camera flag : "+K),n.playCamera(),1==K?n.onFlash():n.setFlashLight(1==n.state.cameraFlashType),S()},n.onTimerSelect=function(){n.state.cameraCaptureTimerType;D()},n.onCaptureAnimation=function(){console.log("onCaptureAnimation call"),1!=n.state.flashEffect?(n.setState({flashEffect:!0}),setTimeout((function(){n.setState({flashEffect:!1})}),800),k("Cam_Shutter.wav")):console.log("onCaptureAnimation call fail!")},n.onCapture=function(){var e=n.canvas;if(void 0!=e){var t=0;switch(n.state.cameraCaptureTimerType){case 0:t=0;break;case 1:t=3e3;break;case 2:t=5e3;break;case 3:t=1e4}var a=(new Date).toISOString();void 0==window.HybridApp?setTimeout((function(){var t=e.toDataURL("image/jpeg",1);n.props.onAddCanvasData(t),n.onCaptureAnimation()}),t):setTimeout((function(){var t=e.toDataURL("image/jpeg",1);if(void 0!=window.HybridApp)window.HybridApp.SaveAlbumJpgImage(t,a+".jpg");else{var o=document.createElement("a");document.body.appendChild(o),o.style="display: none",o.href=t,o.download=a+".jpg",o.click(),window.URL.revokeObjectURL(t)}n.onCaptureAnimation(),console.log("onCapture")}),t)}},n.onBack=function(){console.log("onBack"),n.props.onSetScene("PortraitMaster"),S()},n.onFlash=function(){var e,t=n.state.cameraFlashType;++t>1&&(t=0),1==K&&(t=0,e="\uc804\uba74 \uce74\uba54\ub77c\uc5d0\uc11c\ub294 \ub77c\uc774\ud2b8\ub97c \uc0ac\uc6a9 \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",void 0!=window&&void 0!=window.HybridApp&&(console.log("ShowToast:"+e),window.HybridApp.ShowToast(e))),n.setState((function(){return{cameraFlashType:t}})),n.setFlashLight(1==t),console.log("flash:"+t),S()},n.onToggleGrid=function(){var e=!n.state.gridView;n.setState((function(){return{gridView:e}})),console.log("grid view:"+e),n.updateCameraGrid(e),S()},n.onCaptureRatio=function(){var e=n.state.captureRatioType;console.log("capture Ratio Type:"+e),D()},n.onMovieFilter=function(){var e=n.state.cameraFilterType;++e>7&&(e=0),n.setState((function(){return{cameraFilterType:e}})),console.log("camera filter:"+e),D()},n.stopCamera=n.stopCamera.bind(Object(q.a)(n)),n.state={cameraCaptureTimerType:0,cameraFlashType:0,cameraFilterType:0,captureRatioType:0,gridView:!1,flashEffect:!1},n}return Object(U.a)(a,[{key:"componentDidMount",value:function(){var e=Object(V.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,this.setupCamera();case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),new Error("This browser does not support video capture, or this device does not have a camera");case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){h(!1),this.setFlashLight(!1),this.stopCamera()}},{key:"setupCamera",value:function(){var e=Object(V.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){e.next=2;break}throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");case 2:navigator.mediaDevices.enumerateDevices().then((function(e){e.forEach((function(e){e.kind,console.log(e.kind+": "+e.label+", id = "+e.deviceId)}))})).catch((function(e){console.log(e.name+": "+e.message)})),this.playCamera(),this.updateCamera();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"playCamera",value:function(){var e=Object(V.a)(R.a.mark((function e(){var t,a,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.stream&&window.stream.getTracks().forEach((function(e){e.stop()})),t=this.video,1080,1080,a="user",0==K&&(a="environment"),e.next=8,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:a,frameRate:60,width:{exact:1080},height:{exact:1080},aspectRatio:{exact:1}}});case 8:n=e.sent,window.stream=n,t.srcObject=n,t.play();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stopCamera",value:function(){console.log("stopCamera call");var e=this.video;void 0!=e&&(e.pause(),e.src="",void 0!=e.srcObject&&(e.srcObject.getTracks()[0].stop(),e.srcObject=void 0),console.log("video off"))}},{key:"setFlashLight",value:function(e){if(console.log("setFlashLight:"+e),void 0!=window.stream){var t=window.stream.getVideoTracks()[0];if(console.log(t),void 0!=t){var a=t.getCapabilities();console.log(a),void 0!=a&&(console.log(a.torch),a.torch&&t.applyConstraints({advanced:[{torch:e}]}).catch((function(e){return console.log(e)})))}}}},{key:"updateCamera",value:function(){var e=this.canvas;if(void 0!=e){var t=e.getContext("2d");if(void 0!=t){var a=this.video;void 0!=a&&(0==this.props.showVideo?a.style.display="none":a.style.display="block",this.updateCameraFrame(t))}}}},{key:"updateCameraFrame",value:function(e){var t=this,a=this.video,n=function(){var o=Object(V.a)(R.a.mark((function o(){var i;return R.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(i=t.canvas,1!=t.props.showDebugVideo||void 0==i){o.next=26;break}a.videoWidth==i.width&&a.videoHeight==i.height||(i.width=a.videoWidth,i.height=a.videoHeight,e.width=a.videoWidth,e.height=a.videoHeight),e.clearRect(0,0,i.width,i.height),e.save(),o.t0=t.state.cameraFilterType,o.next=0===o.t0?8:1===o.t0?10:2===o.t0?12:3===o.t0?14:4===o.t0?16:5===o.t0?18:6===o.t0?20:7===o.t0?22:24;break;case 8:return e.filter="none",o.abrupt("break",24);case 10:return e.filter="grayscale(100%)",o.abrupt("break",24);case 12:return e.filter="brightness(100%)",o.abrupt("break",24);case 14:return e.filter="contrast(100%)",o.abrupt("break",24);case 16:return e.filter="sepia(100%)",o.abrupt("break",24);case 18:return e.filter="invert(100%)",o.abrupt("break",24);case 20:return e.filter="saturate(100%)",o.abrupt("break",24);case 22:return e.filter="blur(4px)",o.abrupt("break",24);case 24:e.drawImage(a,0,0),e.restore();case 26:if("start"!=t.props._closeCamera){o.next=30;break}return t.stopCamera(),t.props.onCloseCamera("complete"),o.abrupt("return");case 30:requestAnimationFrame(n);case 31:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}();n()}},{key:"render",value:function(){var e,t,a,n,i;switch(this.state.cameraCaptureTimerType){case 0:e=o.a.createElement("img",{style:ee,onClick:this.onTimerSelect.bind(this),src:"img/TimerOff.png"});break;case 1:e=o.a.createElement("img",{style:ee,onClick:this.onTimerSelect.bind(this),src:"img/Timer3.png"});break;case 2:e=o.a.createElement("img",{style:ee,onClick:this.onTimerSelect.bind(this),src:"img/Timer5.png"});break;case 3:e=o.a.createElement("img",{style:ee,onClick:this.onTimerSelect.bind(this),src:"/mg/Timer10.png"})}switch(this.state.cameraFlashType){case 0:t=o.a.createElement("img",{style:oe,onClick:this.onFlash.bind(this),src:"img/FlashOff.png"});break;case 1:t=o.a.createElement("img",{style:oe,onClick:this.onFlash.bind(this),src:"img/FlashOn.png"})}return a=0==this.state.gridView?o.a.createElement("img",{style:ie,onClick:this.onToggleGrid.bind(this),src:"img/GridOff.png"}):o.a.createElement("img",{style:ie,onClick:this.onToggleGrid.bind(this),src:"img/GridOn.png"}),n=0==this.state.captureRatioType?o.a.createElement("img",{style:re,onClick:this.onCaptureRatio.bind(this),src:"img/CaptureRatio4_3.png"}):o.a.createElement("img",{style:re,onClick:this.onCaptureRatio.bind(this),src:"img/CaptureRatio16_9.png"}),i=0==this.state.cameraFilterType?o.a.createElement("img",{style:ce,onClick:this.onMovieFilter.bind(this),src:"img/FilterOff.png"}):o.a.createElement("img",{style:ce,onClick:this.onMovieFilter.bind(this),src:"img/FilterOn.png"}),o.a.createElement("div",{style:$},o.a.createElement("video",{id:"videoCamera",style:Q,src:"",playsInline:!0,ref:this.getVideo}),o.a.createElement("canvas",{style:Z,ref:this.getCanvas}),o.a.createElement("canvas",{id:"canvasOverlay",style:Z,ref:this.getCanvasOverlay}),o.a.createElement("div",{style:J},o.a.createElement("img",{style:ne,onClick:this.onBack.bind(this),src:"img/CameraBack.png"}),t,a,n,i),o.a.createElement("div",{style:Y},e,o.a.createElement("img",{style:te,onClick:this.onCapture.bind(this),src:"img/shutter_normal.png"}),o.a.createElement("img",{style:ae,onClick:this.onNextCamera.bind(this),src:"img/FlipCamera.png"})),o.a.createElement("div",{className:"CameraCaptureEffect "+(this.state.flashEffect?"CameraCaptureAnimation":"")}))}}]),a}(n.Component);le.defaultProps={showVideo:!1,showDebugVideo:!0,loadingText:"Loading...please be patient..."};var se=le=Object(m.b)((function(e){return{_closeCamera:e.camera._closeCamera}}),(function(e){return{onSetScene:function(t){return e(u(t))},onAddCanvasData:function(t){return e({type:"ADDCANVASDATA",_addCanvasData:t})}}}))(le),me=Object(p.a)((function(e){return{root:{width:"100%"},ContentsBody:{position:"absolute",width:"100%",left:"0px",top:"0px",bottom:"50px"},ImgList:{display:"flex",overflowX:"auto"},BottomBar1:{position:"fixed",width:"40%",Height:"50px",left:"5%",bottom:"0px"},BottomBar2:{position:"fixed",width:"40%",left:"55%",Height:"50px",bottom:"0px"}}})),ue={set_scene:u},de=Object(m.b)((function(e){return{}}),ue)((function(e){e.set_scene;console.log("Index_scene component start");var t=me();Object(n.useEffect)((function(){i()}));var a=function(e){console.log("onAddImageChange"),e.target.files[0]&&function(e){console.log("imgUpload:"),console.log(e);var t=new FileReader;t.onload=function(e){var a=e.target.result,n=new Image;n.onload=function(){r(t.result)},n.src=a},t.readAsDataURL(e)}(e.target.files[0])},i=function(){if(console.log("onUploadImageList"),void 0!=window.HybridApp)for(var e=window.HybridApp.GetDirectoryFileCount(),t=0;t<e;t++){var a=window.HybridApp.GetImageDataFromDirectory(t);r(a)}},r=function(e){var t=document.createElement("img");t.style.display="block",t.style.width="65%",t.style.height="auto",t.style.margin="5px",t.src=e,document.getElementById("imagelist").appendChild(t)};return o.a.createElement("div",{className:t.root},o.a.createElement("div",{id:"imagelist",className:t.ImgList}),o.a.createElement(O.a,{onClick:function(){console.log("onAddImageSelect");var e=document.createElement("input");e.type="file",e.accept="image/*",e.style.display="none",e.onchange=a,document.body.appendChild(e),e.click()},className:t.BottomBar1,variant:"contained",color:"secondary"},"\uc774\ubbf8\uc9c0 \uc120\ud0dd"),o.a.createElement(O.a,{onClick:function(){console.log("onUploadData")},className:t.BottomBar2,variant:"contained",color:"secondary"},"\uc81c\ucd9c\ud558\uae30"))})),pe=(a(102),Object(p.a)((function(e){return{root:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:1,backgroundColor:"black",color:"white"},bar:{position:"absolute",height:"100%",width:"100%",margin:"2%"},title:{position:"absolute",zIndex:1,textAlign:"left",margin:"2%",color:"white"}}}))),ge={set_scene:u},he=Object(m.b)((function(e){return{}}),ge)((function(e){var t=e.title,a=e.set_scene,i=pe();Object(n.useEffect)((function(){}));return o.a.createElement("div",{className:i.root},o.a.createElement("div",{className:i.bar},o.a.createElement("span",{onClick:function(){console.log("onBack set_page"),a("PortraitMaster"),S()}},o.a.createElement("img",{className:"appbar_title_img_arrow",src:"img/CameraBack.png"})),o.a.createElement("span",{className:"appbar_quest_title_text"},t)))})),fe=Object(p.a)((function(e){return{root:{width:"100%",height:"100%"},bottomBar:{position:"fixed",height:"50px",bottom:"0px",width:"100%",backgroundColor:"#000000AA"},upload_button:{position:"absolute",top:"5px",left:"20px",height:"30px"},delete_button:{position:"absolute",top:"5px",right:"20px",height:"30px"},BottomBarButton:{position:"absolute",height:"94%",top:"3%",background:"linear-gradient(90deg, #cc6699 30%, #6666ff 80%)",borderRadius:3,border:0,color:"white",boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .3)",width:"94%",left:"3%"}}})),ve=function(e){e.set_scene;var t=e.itemCount,a=e.onClickUploadImage,n=e.onClickDeleteImage,i=e.onClickSubmit,r=(e.DeleteCanvasData,e.enableSubmit);console.log("PortraitMasterCaptureImageControlBar component start"),console.log("enableSubmit:"+r);var c=fe(),l=function(){D()};return o.a.createElement("div",{className:c.root},function(){return 1==r?o.a.createElement("div",{className:"quest_main_button",onClick:i},o.a.createElement("span",null,"\uc774 \uc0ac\uc9c4 \uc81c\ucd9c\ud558\uae30")):(0!=t?(e=o.a.createElement("img",{className:c.upload_button,onClick:a,src:"img/image-select-upload-enable-icon.png"}),s=o.a.createElement("img",{className:c.delete_button,onClick:n,src:"img/image-select-delete-enable-icon.png"})):(e=o.a.createElement("img",{className:c.upload_button,onClick:l,src:"img/image-select-upload-disable-icon.png"}),s=o.a.createElement("img",{className:c.delete_button,onClick:l,src:"img/image-select-delete-disable-icon.png"})),o.a.createElement("div",{className:c.bottomBar},e,s));var e,s}())},be={set_scene:u,DeleteCanvasData:z},Ee=Object(m.b)((function(e){return{}}),be)(ve),we=Object(p.a)((function(e){return{root:{width:"100%",height:"100%",background:"#000000"},app_root:{position:"fixed",left:"0%",top:"0%",width:"100%",height:"8%"},body:{position:"fixed",left:"0%",top:"8%",width:"100%",height:"92%",backgroundColor:"black"},select_text:{color:"white"},ImgList:{overflowY:"auto",background:"#000000"},bottomBar:{position:"fixed",height:"50px",bottom:"0px",width:"100%",backgroundColor:"#000000AA"},upload_button:{position:"absolute",top:"5px",left:"20px",height:"30px"},delete_button:{position:"absolute",top:"5px",right:"20px",height:"30px"}}})),Ce=[],_e={set_scene:u,DeleteCanvasData:z},ye=Object(m.b)((function(e){return{_canvasData:e.camera._canvasData}}),_e)((function(e){var t=e._canvasData,a=e.set_scene,i=e.DeleteCanvasData;console.log("PortraitMasterGridCaptureImageList component start");var r=we(),l=Object(n.useState)(0),s=Object(c.a)(l,2),m=s[0],u=s[1],d=o.a.useState(!1),p=Object(c.a)(d,2),g=p[0],f=p[1];Object(n.useEffect)((function(){return h(!0),function(){h(!1)}}),[]);var v,b=function(e){for(var t=0;t<Ce.length;t++)if(Ce[t]==e)return!0;return!1},E=function(e){console.log("onImageClick index:"+e),function(e){console.log("toggleSelectImage:"+e);for(var t=!1,a=0;a<Ce.length;a++)if(Ce[a]==e){Ce.splice(a,1),t=!0;break}0==t&&Ce.push(e),u(Ce.length)}(e),S()},w=function(e,t){var a="gridView-play_quest_thumb_img",n=b(e);return 1==n&&(a="gridView-play_quest_thumb_is_selected_img"),o.a.createElement("li",{onClick:function(){return E(e)}},o.a.createElement("div",{className:"gridView-play_quest_thumb"},o.a.createElement("img",{className:a,src:t,alt:""}),1==n?o.a.createElement("img",{className:"gridView-play_quest_thumb-check",src:"img/image-checked-icon.png",alt:""}):void 0))},C=function(){return void 0!=window.HybridApp?window.HybridApp.GetDirectoryFileCount():t.length};v=0!=m?o.a.createElement("div",{className:r.select_text},o.a.createElement("center",null,m,"\uac1c \uc120\ud0dd\ub428")):o.a.createElement("div",{className:r.select_text},o.a.createElement("center",null,"\uc120\ud0dd \ub418\uc9c0 \uc54a\uc74c"));return o.a.createElement("div",{className:r.root},o.a.createElement("div",{className:r.app_root},o.a.createElement(he,{title:"\ub0b4 \uc0ac\uc9c4 \ud3b8\uc9d1"})),o.a.createElement("div",{className:r.body},v,o.a.createElement("div",{className:"gridView-filter-content"},o.a.createElement("ul",{className:"gridView-play_quest"},function(){var e=[];if(void 0!=window.HybridApp)for(var a=window.HybridApp.GetDirectoryFileCount()-1;a>=0;a--){var n=window.HybridApp.GetImageDataFromDirectory(a);e.push(w(a,n))}else for(a=t.length-1;a>=0;a--)e.push(w(a,t[a]));return e}()))),o.a.createElement(F,{title:"\uc0ac\uc9c4\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",onOKClick:function(){console.log("onClickDeleteImage call"),f(!1);for(var e=[],t=0;t<Ce.length;t++){1==b(Ce[t])&&e.push(Ce[t])}var n=C(),o=n==e.length;console.log("======isRemoveAll:"+o+", "+n+"/"+e.length),Ce=[],u(0),e.sort((function(e,t){return t-e}));for(t=0;t<e.length;t++)console.log("select item DeleteCanvasData call index:"+e[t]),void 0!=window.HybridApp?window.HybridApp.DeleteImageDataFromDirectory(e[t]):i(e[t]);1==o&&a("PortraitMaster"),S()},onCloseClick:function(){console.log("onDeleteImageDialogClose call"),f(!1),S()},openDialog:g}),o.a.createElement(Ee,{itemCount:m,onClickUploadImage:function(){console.log("onClickUploadImage call");for(var e=-1,t=0;t<Ce.length;t++){if(1==b(Ce[t])){e=Ce[t];break}}-1!=e&&void 0!=window.HybridApp&&window.HybridApp.DoShareImage(e,"level up hero \uc778\ubb3c\uc0ac\uc9c4 \ud018\uc2a4\ud2b8"),S()},onClickDeleteImage:function(){console.log("onClickDeleteImage call"),f(!0),S()}}))})),xe=(a(103),a(65)),ke=Object(p.a)((function(e){return{root:{position:"absolute",left:"0%",top:"0%",width:"100%",height:"100%",backgroundColor:"black"},app_root:{position:"fixed",left:"0%",top:"0%",width:"100%",height:"8%"},body:{position:"fixed",left:"0%",top:"8%",width:"100%",height:"92%"},multi_select_text:{color:"white"},image_count_select_text:{color:"white"},ImgList:{overflowY:"auto",backgroundColor:"black"}}})),Se=[],De={set_scene:u,SetSelectImgIndex:d,SetImageSubmit:function(e){return console.log("==========SetImageSubmit:"+e),{type:"SETIMAGESUBMIT",_flag:e}},DeleteCanvasData:z},Ie=Object(m.b)((function(e){return{_canvasData:e.camera._canvasData,_selectImgIndex:e.scene._selectImgIndex}}),De)((function(e){var t=e._canvasData,a=e.set_scene,i=e.SetSelectImgIndex,r=e._selectImgIndex,l=e.DeleteCanvasData,s=e.enableSubmit;console.log("PortraitMasterFullScreenCaptureList component start"),console.log("enableSubmit:"+s);var m=ke(),u=Object(n.useState)(0),d=Object(c.a)(u,2),p=d[0],g=d[1],f=o.a.useState(!1),v=Object(c.a)(f,2),b=v[0],E=v[1],w=o.a.useState(!1),C=Object(c.a)(w,2),_=C[0],y=C[1];Object(n.useEffect)((function(){return D(),h(!0),function(){h(!1)}}),[]);var x,k,D=function(){if(Se=[],console.log("onUpdateImageList"),void 0!=window.HybridApp)for(var e=window.HybridApp.GetDirectoryFileCount(),a=0;a<e;a++){var n=window.HybridApp.GetImageDataFromDirectory(a);I(a,n)}else for(a=0;a<t.length;a++)I(a,t[a])},I=function(e,t){var a={};a.index=e,a.image=t,Se.push(a),g(Se.length),console.log("item count:"+Se.length)},N=function(){console.log("onSwipeSound call:"),S()},A=function(e){console.log("onSelectImage call:"+e),i(e)};x=p>1?o.a.createElement("div",{className:m.multi_select_text},o.a.createElement("center",null,"\uc2ac\ub77c\uc774\ub4dc\ud558\uba74 \ub2e4\ub978 \uc0ac\uc9c4 \ud45c\uc2dc")):o.a.createElement("div",{className:m.multi_select_text}),k=p>1?o.a.createElement("div",{className:m.image_count_select_text},o.a.createElement("center",null,r+1,"/",p)):o.a.createElement("div",{className:m.image_count_select_text});var O="\uc0ac\uc9c4 \ubcf4\uae30";return 1==s&&(O="\uc81c\ucd9c\ud558\uae30"),console.log("itemCount renderring update"),o.a.createElement("div",{className:m.root},o.a.createElement("div",{className:m.app_root},o.a.createElement(he,{title:O})),o.a.createElement("div",{className:m.body},x,(console.log("_items count:"+Se.length),o.a.createElement(xe.Carousel,{infiniteLoop:!0,onSwipeEnd:N,selectedItem:r,showArrows:!0,showStatus:!1,showThumbs:!1,showIndicators:!1,onChange:A},Se.map((function(e){return o.a.createElement("img",{key:e.index,src:e.image})})))),k),o.a.createElement(F,{title:"\uc0ac\uc9c4\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",onOKClick:function(){console.log("onDeleteImageOK call:"+r),E(!1),void 0!=window.HybridApp?window.HybridApp.DeleteImageDataFromDirectory(r):l(r),i(0),Se.length<=1&&a("PortraitMaster"),S()},onCloseClick:function(){console.log("onDeleteImageDialogClose call"),E(!1),S()},openDialog:b}),o.a.createElement(ve,{itemCount:1,onClickUploadImage:function(){console.log("onClickUploadImage call"),void 0!=window.HybridApp&&window.HybridApp.DoShareImage(r,"level up hero \uc778\ubb3c\uc0ac\uc9c4 \ud018\uc2a4\ud2b8"),S()},onClickDeleteImage:function(){console.log("onClickDeleteImage call index:"+r),E(!0),S()},onClickSubmit:function(){console.log("onSubmitImageDialogOpen call"),y(!0),S()},enableSubmit:s}),o.a.createElement(F,{title:"\uc2a4\ud0ec\ud504\ub97c \ubc1b\uc744 \ub54c\uae4c\uc9c0 \ub2e4\uc2dc \uc81c\ucd9c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",onOKClick:function(){console.log("onSubmitImageOK call"),S(),a("PortraitMasterStamp"),y(!1)},onCloseClick:function(){console.log("onSubmitImageDialogClose call"),y(!1),S()},openDialog:_}))})),Ne=a(142),Ae=a(143),Oe=a(67),Te=a.n(Oe),je=a(66),Be=a.n(je),Fe=Object(p.a)({root:{width:"100%",bottom:0,position:"fixed",flexGrow:1}}),Le={set_scene:u},He=(Object(m.b)((function(e){return{}}),Le)((function(e){var t=e.set_scene,a=Fe(),n=o.a.useState(0),i=Object(c.a)(n,2),r=i[0],l=i[1];return o.a.createElement(Ne.a,{value:r,onChange:function(e,a){t(a),l(a)},showLabels:!0,className:a.root},o.a.createElement(Ae.a,{value:"PortraitMaster",label:"Home",icon:o.a.createElement(Be.a,null)}),o.a.createElement(Ae.a,{value:"CameraCapture",label:"\uc0ac\uc9c4\ucc0d\uae30",icon:o.a.createElement(Te.a,null)}))})),Object(p.a)((function(e){return{root:{width:"100%",height:"100%"}}}))),Me={set_scene:u},Ge=Object(m.b)((function(e){return{_current_scene:e.scene._current_scene,_isImageSubmit:e.scene._isImageSubmit}}),Me)((function(e){var t=e._current_scene,a=(e.set_scene,e.location);e._isImageSubmit;console.log("Index_scene component start");var i=He(),r=o.a.useState(!1),l=Object(c.a)(r,2),m=l[0],u=l[1],d=o.a.useState(""),p=Object(c.a)(d,2),g=p[0],h=p[1],f=o.a.useState(0),v=Object(c.a)(f,2),b=v[0],E=v[1];Object(n.useEffect)((function(){var e=s.a.parse(a.search);console.log(e),u("true"==e.Complete),h(e.reward_category),E(e.reward_exp)}),[a]);return o.a.createElement("div",{className:i.root},function(){switch(t){case"CameraCapture":return o.a.createElement(se,null);case"CameraCaptureSelect":return o.a.createElement(de,null);case"GridCaptureList":return o.a.createElement(ye,null);case"FullScreenCaptureList":return o.a.createElement(Ie,{enableSubmit:!1});case"SubmitCaptureList":return o.a.createElement(Ie,{enableSubmit:!0});case"PortraitMasterStamp":return o.a.createElement(M,{isStampState:!0,rewardState:m,rewardCategory:g,rewardExp:b});case"PortraitMaster":default:return o.a.createElement(M,{isStampState:!1,rewardState:m,rewardCategory:g,rewardExp:b})}}())})),Re=a(69),Ve=a(7);var Pe=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(Re.a,null,o.a.createElement(Ve.a,{path:"/",component:Ge})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ue=a(26),qe={_current_scene:"IndexScene",_selectImgIndex:0,_isImageSubmit:!1};var We=a(44),Xe=a(51),ze={_closeCamera:"",_canvasData:[]};var Ke=Object(Ue.b)({scene:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(console.log("reducer scene action call:"+t.type),t.type){case"SET_SCENE":return console.log("SET_SCENE:"+t._change_scene),Object.assign({},e,{_current_scene:t._change_scene});case"SETSELECTIMGINDEX":return console.log("SETSELECTIMGINDEX:"+t._selectImgIndex),Object.assign({},e,{_selectImgIndex:t._selectImgIndex});case"SETIMAGESUBMIT":return console.log("SETIMAGESUBMIT:"+t._flag),Object.assign({},e,{_isImageSubmit:t._flag});default:return e}},camera:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(console.log("reducer scene action call:"+t.type),t.type){case"CLOSECAMERA":return console.log("CLOSECAMERA:"+t._closeCamera),Object.assign({},e,{_closeCamera:t._closeCamera});case"ADDCANVASDATA":return console.log("ADDCANVASDATA:"+t._addCanvasData),Object(Xe.a)({},e,{_canvasData:[].concat(Object(We.a)(e._canvasData),[t._addCanvasData])});case"DELETECANVASDATA":return console.log("DELETECANVASDATA:"+t._deleteCanvasDataIndex),Object(Xe.a)({},e,{_canvasData:[].concat(Object(We.a)(e._canvasData.slice(0,t._deleteCanvasDataIndex)),Object(We.a)(e._canvasData.slice(t._deleteCanvasDataIndex+1)))});default:return e}}}),Je=document.getElementById("root"),Ye=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),$e=Object(Ue.c)(Ke,Ye);r.a.render(o.a.createElement(m.a,{store:$e},o.a.createElement(Pe,null)),Je),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,t,a){},77:function(e,t,a){e.exports=a(111)},82:function(e,t,a){},83:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.36d9a724.chunk.js.map