(this["webpackJsonpreact-template"]=this["webpackJsonpreact-template"]||[]).push([[0],{102:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(8),r=a.n(i),c=(a(83),a(84),a(14)),l=a(61),s=a.n(l),u=a(5);function m(e){return{type:"SET_SCENE",_change_scene:e}}function d(e){return{type:"SETSELECTIMGINDEX",_selectImgIndex:e}}var p=a(137),g=(a(38),a(3)),h=a(139);function f(e){v(0==e?"onFitScreen":"onFullScreen")}function v(e){void 0!=window&&void 0!=window.parent&&(console.log("SendMessage parent:"+e),window.parent.postMessage(e,"*"))}var b=Object(p.a)((function(e){return{root:{position:"fixed",backgroundColor:"#FFFFFF88",width:"100%",height:"65px",bottom:"0px",left:"0%"},BottomBarButton:{position:"absolute",height:"80%",top:"8%",background:"linear-gradient(90deg, #cc6699 30%, #6666ff 80%)",borderRadius:3,border:0,color:"white",boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .3)",width:"94%",left:"3%"},BottomBarText:{position:"absolute",height:"60%",top:"0%",color:"white",width:"100%",left:"0%",fontSize:"20px",textAlign:"center"},BottomBarSubGroup:{position:"absolute",height:"40%",top:"50%",width:"100%",left:"0%"},BottomBarImg:{position:"relative",top:"3px",height:"80%",width:"auto"},BottomBarSubText:{position:"relative",height:"100%",color:"white",width:"100%",left:"5px",fontSize:"15px",textAlign:"center"}}})),w=function(e){var t=e.onClick,a=e.rewardCategory,n=e.rewardExp,i=b();return o.a.createElement("div",{className:i.root},o.a.createElement(h.a,{onClick:t,className:i.BottomBarButton,variant:"contained",color:"secondary"},o.a.createElement("span",{className:i.BottomBarText},"\uc644\ub8cc\ud558\uace0 \ubcf4\uc0c1 \ubc1b\uae30"),o.a.createElement("div",{className:i.BottomBarSubGroup},o.a.createElement("img",{className:i.BottomBarImg,src:function(){switch(a){case"strength":return"https://goli8111.github.io/level-up/img/class_strength.png";case"dexterity":return"https://goli8111.github.io/level-up/img/DexterityStat_icon.png";case"intelligence":return"https://goli8111.github.io/level-up/img/class_intelligence.png";case"wisdom":return"https://goli8111.github.io/level-up/img/class_wisdom.png"}}()}),o.a.createElement("span",{className:i.BottomBarSubText},n))))},C=a(63),_=Object(p.a)((function(e){return{root:{width:"100%",height:"100%"},ContentsText:{textAlign:"left"},contents_site_link:{position:"absolute",height:"100%",width:"100%",frameBorder:0}}})),E={set_scene:m},y=Object(u.b)((function(e){return{_current_scene:e.scene._current_scene}}),E)((function(e){console.log("PortraitMasterContentsIntro component start");var t=_();return o.a.createElement("div",{className:t.root},o.a.createElement(C.a,{url:"contents/index.html",className:t.contents_site_link,frameBorder:"0"}))})),x=Object(p.a)((function(e){return{root:{width:"100%",height:"100%"},ContentsTitle:{position:"relative",textAlign:"left",fontSize:"20px",color:"black",left:"4%",width:"100%",height:"25px"},ContentsBody:{position:"relative",left:"4%",width:"92%",height:"70px",backgroundColor:"gray"},ContentsText:{position:"absolute",textAlign:"left",left:"0px",width:"100%",color:"white",fontSize:"17px"}}})),k={set_scene:m},D=Object(u.b)((function(e){return{_current_scene:e.scene._current_scene}}),k)((function(e){console.log("PortraitMasterContentsFeedback component start");var t=x();return o.a.createElement("div",{className:t.root},o.a.createElement("div",{className:t.ContentsTitle},"\ub9c8\uc2a4\ud130 \ucf54\uba58\ud2b8"),o.a.createElement("div",{className:t.ContentsBody},o.a.createElement("span",{className:t.ContentsText},"\uc778\ubb3c\uc758 \ub290\ub08c\uc744 \uc798 \uc0b4\ub9ac\uc168\uc2b5\ub2c8\ub2e4.",o.a.createElement("br",null)," \uc544\uc8fc \uba4b\uc9c4 \uc0ac\uc9c4\uc785\ub2c8\ub2e4!")))}));a(112);function S(){new Audio("./sound/Common_Button_Enabled_Touch.wav").play()}function B(){new Audio("./sound/Common_Button_Disabled_Touch.wav").play()}var I=Object(p.a)((function(e){return{root:{width:"100%",height:"100%",overflow:"hidden"},left_title:{position:"absolute",left:"0"},right_title:{position:"absolute",top:"5px",right:"10px",height:"3%"},ImgList:{display:"flex",overflow:"auto"}}})),O={set_scene:m,SetSelectImgIndex:d},A=Object(u.b)((function(e){return{_current_scene:e.scene._current_scene,_canvasData:e.camera._canvasData}}),O)((function(e){var t=e.set_scene,a=e.SetSelectImgIndex,i=e._canvasData;console.log("PortraitMasterSimpleCaptureList component start");var r=I();Object(n.useEffect)((function(){c()}),[]);var c=function(){if(console.log("onUploadImageList"),void 0!=window.HybridApp)for(var e=window.HybridApp.GetDirectoryFileCount()-1;e>=0;e--){var t=window.HybridApp.GetImageDataFromDirectory(e);l(e,t)}else for(e=i.length-1;e>=0;e--)l(e,i[e])},l=function(e,n){var o=document.createElement("img");o.style.width="90%",o.style.height="auto",o.style.margin="5px",o.src=n,o.onclick=function(){console.log("img click index:"+e),a(e),t("FullScreenCaptureList"),S()},document.getElementById("imagelist").appendChild(o)};return o.a.createElement("div",{className:r.root},o.a.createElement("div",{className:r.left_title},"\ub0b4 \uc0ac\uc9c4"),o.a.createElement("img",{className:r.right_title,onClick:function(){console.log("onClickGridCaptureList"),t("GridCaptureList"),S()},src:"img/image-modify-icon.png"}),o.a.createElement("div",null,o.a.createElement("br",null),o.a.createElement("div",{id:"imagelist",className:"SimpleCaptureImageList"})))})),T=Object(p.a)((function(e){return{root:{width:"100%"},BottomBarBack:{position:"fixed",backgroundColor:"#FFFFFF88",width:"100%",height:"11%",top:"89%",left:"0%"},BottomBarButtonBase:{position:"fixed",height:"8%",top:"90%",background:"linear-gradient(90deg, #cc6699 30%, #6666ff 80%)",borderRadius:3,border:0,color:"white",boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .3)"},BottomBarButtonLeft:{width:"44%",left:"3%"},BottomBarButtonRight:{width:"44%",left:"53%"},BottomBarButton:{width:"94%",left:"3%"},divLine:{border:"1px solid",color:"#DDDDDD",width:"95%"}}})),N={set_scene:m},j=Object(u.b)((function(e){return{_current_scene:e.scene._current_scene,_canvasData:e.camera._canvasData}}),N)((function(e){e._current_scene;var t=e.set_scene,a=e._canvasData,n=e.rewardState,i=e.rewardCategory,r=e.rewardExp;console.log("PortraitMaster component start");var c,l,s=T(),u=Object(g.a)(s.BottomBarButtonBase,s.BottomBarButtonRight),m=Object(g.a)(s.BottomBarButtonBase,s.BottomBarButtonLeft),d=Object(g.a)(s.BottomBarButtonBase,s.BottomBarButton),p=function(){console.log("onCameraCapture call"),t("CameraCapture"),S()},f=void 0!=window.HybridApp?window.HybridApp.GetDirectoryFileCount():a.length;1==n?l=o.a.createElement(w,{onClick:function(){console.log("onGetReward call"),v("onGetReward"),new Audio("./sound/Quest_Clear_Reward.ogg").play()},rewardCategory:i,rewardExp:r}):0==f?l=o.a.createElement(h.a,{onClick:p,className:d,variant:"contained",color:"secondary"},"\uc0ac\uc9c4 \ucc0d\uae30"):(c=o.a.createElement("div",null,o.a.createElement(A,null)," ",o.a.createElement("hr",{className:s.divLine})),l=o.a.createElement("div",null,o.a.createElement(h.a,{onClick:p,className:m,variant:"contained",color:"secondary"}," \uc0ac\uc9c4 \ucc0d\uae30"),o.a.createElement(h.a,{onClick:function(){console.log("onCameraCaptureSubmit call"),t("SubmitCaptureList"),S()},className:u,variant:"contained",color:"secondary"},"\uc81c\ucd9c\ud558\uae30")));return o.a.createElement("div",{className:"MainSceneRoot"},c,function(){if(0!=n)return o.a.createElement("div",null,o.a.createElement(D,null),o.a.createElement("hr",{className:s.divLine}))}(),o.a.createElement(y,null),o.a.createElement("div",{className:s.BottomBarBack},l))})),F=a(22),L=a.n(F),H=a(36),R=a(64),M=a(65),G=a(43),V=a(69),U=a(71);function P(e){return{type:"DELETECANVASDATA",_deleteCanvasDataIndex:e}}var W=!0,z={position:"fixed",left:"0px",top:"0",width:"100%",height:"11.6%"},X={position:"fixed",left:"0px",top:"88.4%",height:"11.6%",width:"100%"},q={position:"fixed",left:"0%",top:"0%",width:"100%",height:"100%",zIndex:"-3",backgroundColor:"black"},K={position:"fixed",left:"0%",width:"100%",height:"auto",top:"50%",transform:"translate(0%, -50%)",zIndex:"-2"},J={position:"fixed",left:"0%",width:"100%",height:"auto",top:"50%",transform:"translate(0%, -50%)",zIndex:"-1"},Y={position:"fixed",height:"5.1%",left:"10%",top:"91.5%"},Q={position:"fixed",height:"9.1%",left:"40%",top:"89.5%"},$={position:"fixed",height:"5.1%",left:"75%",top:"91.5%"},Z={position:"fixed",height:"5.1%",left:"5%",top:"3.5%"},ee={position:"fixed",height:"5.1%",left:"25%",top:"3.5%"},te={position:"fixed",height:"5.1%",left:"45%",top:"3.5%"},ae={position:"fixed",height:"2.1%",left:"65%",top:"5%"},ne={position:"fixed",height:"5.1%",left:"85%",top:"3.5%"},oe=function(e){Object(U.a)(a,e);var t=Object(V.a)(a);function a(e){var n;return Object(R.a)(this,a),(n=t.call(this,e,a.defaultProps)).getCanvas=function(e){n.canvas=e},n.getCanvasOverlay=function(e){n.canvasOverlay=e},n.getVideo=function(e){n.video=e},n.updateCameraGrid=function(e){var t=n.video;if(void 0!=t){var a=n.canvasOverlay;if(void 0!=a){var o=a.getContext("2d");if(void 0!=o&&(t.videoWidth==a.width&&t.videoHeight==a.height||(a.width=t.videoWidth,a.height=t.videoHeight,o.width=t.videoWidth,o.height=t.videoHeight),o.clearRect(0,0,a.width,a.height),1==e)){o.save(),o.strokeStyle="rgb(255,0,0)",o.lineWidth=5,o.globalAlpha=.3;for(var i=0;i<=a.width;i+=a.width/3)o.moveTo(i,0),o.lineTo(i,a.height);for(var r=0;r<=a.height;r+=a.height/3)o.moveTo(0,r),o.lineTo(a.width,r);o.stroke(),o.restore()}}}},n.onNextCamera=function(){W=!W,console.log("user camera flag : "+W),n.playCamera(),1==W?n.onFlash():n.setFlashLight(1==n.state.cameraFlashType),S()},n.onTimerSelect=function(){n.state.cameraCaptureTimerType;B()},n.onCaptureAnimation=function(){console.log("onCaptureAnimation call"),1!=n.state.flashEffect?(n.setState({flashEffect:!0}),setTimeout((function(){n.setState({flashEffect:!1})}),800),new Audio("./sound/Cam_Shutter.wav").play()):console.log("onCaptureAnimation call fail!")},n.onCapture=function(){var e=n.canvas;if(void 0!=e){var t=0;switch(n.state.cameraCaptureTimerType){case 0:t=0;break;case 1:t=3e3;break;case 2:t=5e3;break;case 3:t=1e4}var a=(new Date).toISOString();void 0==window.HybridApp?setTimeout((function(){var t=e.toDataURL("image/jpeg",1);n.props.onAddCanvasData(t),n.onCaptureAnimation()}),t):setTimeout((function(){var t=e.toDataURL("image/jpeg",1);if(void 0!=window.HybridApp)window.HybridApp.SaveAlbumJpgImage(t,a+".jpg");else{var o=document.createElement("a");document.body.appendChild(o),o.style="display: none",o.href=t,o.download=a+".jpg",o.click(),window.URL.revokeObjectURL(t)}n.onCaptureAnimation(),console.log("onCapture")}),t)}},n.onBack=function(){console.log("onBack"),n.props.onSetScene("PortraitMaster"),S()},n.onFlash=function(){var e=n.state.cameraFlashType;++e>1&&(e=0),1==W&&(e=0,void 0!=window.HybridApp&&window.HybridApp.ShowToast("\uc804\uba74 \uce74\uba54\ub77c\uc5d0\uc11c\ub294 \ub77c\uc774\ud2b8\ub97c \uc0ac\uc6a9 \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")),n.setState((function(){return{cameraFlashType:e}})),n.setFlashLight(1==e),console.log("flash:"+e),S()},n.onToggleGrid=function(){var e=!n.state.gridView;n.setState((function(){return{gridView:e}})),console.log("grid view:"+e),n.updateCameraGrid(e),S()},n.onCaptureRatio=function(){var e=n.state.captureRatioType;console.log("capture Ratio Type:"+e),B()},n.onMovieFilter=function(){var e=n.state.cameraFilterType;++e>7&&(e=0),n.setState((function(){return{cameraFilterType:e}})),console.log("camera filter:"+e),B()},n.stopCamera=n.stopCamera.bind(Object(G.a)(n)),n.state={cameraCaptureTimerType:0,cameraFlashType:0,cameraFilterType:0,captureRatioType:0,gridView:!1,flashEffect:!1},n}return Object(M.a)(a,[{key:"componentDidMount",value:function(){var e=Object(H.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,this.setupCamera();case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),new Error("This browser does not support video capture, or this device does not have a camera");case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){f(!1),this.setFlashLight(!1),this.stopCamera()}},{key:"setupCamera",value:function(){var e=Object(H.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){e.next=2;break}throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");case 2:navigator.mediaDevices.enumerateDevices().then((function(e){e.forEach((function(e){e.kind,console.log(e.kind+": "+e.label+", id = "+e.deviceId)}))})).catch((function(e){console.log(e.name+": "+e.message)})),this.playCamera(),this.updateCamera();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"playCamera",value:function(){var e=Object(H.a)(L.a.mark((function e(){var t,a,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.stream&&window.stream.getTracks().forEach((function(e){e.stop()})),t=this.video,1080,1080,a="user",0==W&&(a="environment"),e.next=8,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:a,frameRate:60,width:{exact:1080},height:{exact:1080},aspectRatio:{exact:1}}});case 8:n=e.sent,window.stream=n,t.srcObject=n,t.play();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stopCamera",value:function(){console.log("stopCamera call");var e=this.video;void 0!=e&&(e.pause(),e.src="",void 0!=e.srcObject&&(e.srcObject.getTracks()[0].stop(),e.srcObject=void 0),console.log("video off"))}},{key:"setFlashLight",value:function(e){if(console.log("setFlashLight:"+e),void 0!=window.stream){var t=window.stream.getVideoTracks()[0];if(console.log(t),void 0!=t){var a=t.getCapabilities();console.log(a),void 0!=a&&(console.log(a.torch),a.torch&&t.applyConstraints({advanced:[{torch:e}]}).catch((function(e){return console.log(e)})))}}}},{key:"updateCamera",value:function(){var e=this.canvas;if(void 0!=e){var t=e.getContext("2d");if(void 0!=t){var a=this.video;void 0!=a&&(0==this.props.showVideo?a.style.display="none":a.style.display="block",this.updateCameraFrame(t))}}}},{key:"updateCameraFrame",value:function(e){var t=this,a=this.video,n=function(){var o=Object(H.a)(L.a.mark((function o(){var i;return L.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(i=t.canvas,1!=t.props.showDebugVideo||void 0==i){o.next=26;break}a.videoWidth==i.width&&a.videoHeight==i.height||(i.width=a.videoWidth,i.height=a.videoHeight,e.width=a.videoWidth,e.height=a.videoHeight),e.clearRect(0,0,i.width,i.height),e.save(),o.t0=t.state.cameraFilterType,o.next=0===o.t0?8:1===o.t0?10:2===o.t0?12:3===o.t0?14:4===o.t0?16:5===o.t0?18:6===o.t0?20:7===o.t0?22:24;break;case 8:return e.filter="none",o.abrupt("break",24);case 10:return e.filter="grayscale(100%)",o.abrupt("break",24);case 12:return e.filter="brightness(100%)",o.abrupt("break",24);case 14:return e.filter="contrast(100%)",o.abrupt("break",24);case 16:return e.filter="sepia(100%)",o.abrupt("break",24);case 18:return e.filter="invert(100%)",o.abrupt("break",24);case 20:return e.filter="saturate(100%)",o.abrupt("break",24);case 22:return e.filter="blur(4px)",o.abrupt("break",24);case 24:e.drawImage(a,0,0),e.restore();case 26:if("start"!=t.props._closeCamera){o.next=30;break}return t.stopCamera(),t.props.onCloseCamera("complete"),o.abrupt("return");case 30:requestAnimationFrame(n);case 31:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}();n()}},{key:"render",value:function(){var e,t,a,n,i;switch(this.state.cameraCaptureTimerType){case 0:e=o.a.createElement("img",{style:Y,onClick:this.onTimerSelect.bind(this),src:"img/TimerOff.png"});break;case 1:e=o.a.createElement("img",{style:Y,onClick:this.onTimerSelect.bind(this),src:"img/Timer3.png"});break;case 2:e=o.a.createElement("img",{style:Y,onClick:this.onTimerSelect.bind(this),src:"img/Timer5.png"});break;case 3:e=o.a.createElement("img",{style:Y,onClick:this.onTimerSelect.bind(this),src:"/mg/Timer10.png"})}switch(this.state.cameraFlashType){case 0:t=o.a.createElement("img",{style:ee,onClick:this.onFlash.bind(this),src:"img/FlashOff.png"});break;case 1:t=o.a.createElement("img",{style:ee,onClick:this.onFlash.bind(this),src:"img/FlashOn.png"})}return a=0==this.state.gridView?o.a.createElement("img",{style:te,onClick:this.onToggleGrid.bind(this),src:"img/GridOff.png"}):o.a.createElement("img",{style:te,onClick:this.onToggleGrid.bind(this),src:"img/GridOn.png"}),n=0==this.state.captureRatioType?o.a.createElement("img",{style:ae,onClick:this.onCaptureRatio.bind(this),src:"img/CaptureRatio4_3.png"}):o.a.createElement("img",{style:ae,onClick:this.onCaptureRatio.bind(this),src:"img/CaptureRatio16_9.png"}),i=0==this.state.cameraFilterType?o.a.createElement("img",{style:ne,onClick:this.onMovieFilter.bind(this),src:"img/FilterOff.png"}):o.a.createElement("img",{style:ne,onClick:this.onMovieFilter.bind(this),src:"img/FilterOn.png"}),o.a.createElement("div",{style:q},o.a.createElement("video",{id:"videoCamera",style:K,src:"",playsInline:!0,ref:this.getVideo}),o.a.createElement("canvas",{style:J,ref:this.getCanvas}),o.a.createElement("canvas",{id:"canvasOverlay",style:J,ref:this.getCanvasOverlay}),o.a.createElement("div",{style:z},o.a.createElement("img",{style:Z,onClick:this.onBack.bind(this),src:"img/CameraBack.png"}),t,a,n,i),o.a.createElement("div",{style:X},e,o.a.createElement("img",{style:Q,onClick:this.onCapture.bind(this),src:"img/shutter_normal.png"}),o.a.createElement("img",{style:$,onClick:this.onNextCamera.bind(this),src:"img/FlipCamera.png"})),o.a.createElement("div",{className:"CameraCaptureEffect "+(this.state.flashEffect?"CameraCaptureAnimation":"")}))}}]),a}(n.Component);oe.defaultProps={showVideo:!1,showDebugVideo:!0,loadingText:"Loading...please be patient..."};var ie=oe=Object(u.b)((function(e){return{_current_scene:e.scene._current_scene,_closeCamera:e.camera._closeCamera}}),(function(e){return{onSetScene:function(t){return e(m(t))},onAddCanvasData:function(t){return e({type:"ADDCANVASDATA",_addCanvasData:t})}}}))(oe),re=Object(p.a)((function(e){return{root:{width:"100%"},ContentsBody:{position:"absolute",width:"100%",left:"0px",top:"0px",bottom:"50px"},ImgList:{display:"flex",overflowX:"auto"},BottomBar1:{position:"fixed",width:"40%",Height:"50px",left:"5%",bottom:"0px"},BottomBar2:{position:"fixed",width:"40%",left:"55%",Height:"50px",bottom:"0px"}}})),ce={set_scene:m},le=Object(u.b)((function(e){return{_current_scene:e.scene._current_scene}}),ce)((function(e){e._current_scene,e.set_scene;console.log("Index_scene component start");var t=re();Object(n.useEffect)((function(){i()}));var a=function(e){console.log("onAddImageChange"),e.target.files[0]&&function(e){console.log("imgUpload:"),console.log(e);var t=new FileReader;t.onload=function(e){var a=e.target.result,n=new Image;n.onload=function(){r(t.result)},n.src=a},t.readAsDataURL(e)}(e.target.files[0])},i=function(){if(console.log("onUploadImageList"),void 0!=window.HybridApp)for(var e=window.HybridApp.GetDirectoryFileCount(),t=0;t<e;t++){var a=window.HybridApp.GetImageDataFromDirectory(t);r(a)}},r=function(e){var t=document.createElement("img");t.style.display="block",t.style.width="65%",t.style.height="auto",t.style.margin="5px",t.src=e,document.getElementById("imagelist").appendChild(t)};return o.a.createElement("div",{className:t.root},o.a.createElement("div",{id:"imagelist",className:t.ImgList}),o.a.createElement(h.a,{onClick:function(){console.log("onAddImageSelect");var e=document.createElement("input");e.type="file",e.accept="image/*",e.style.display="none",e.onchange=a,document.body.appendChild(e),e.click()},className:t.BottomBar1,variant:"contained",color:"secondary"},"\uc774\ubbf8\uc9c0 \uc120\ud0dd"),o.a.createElement(h.a,{onClick:function(){console.log("onUploadData")},className:t.BottomBar2,variant:"contained",color:"secondary"},"\uc81c\ucd9c\ud558\uae30"))})),se=(a(102),Object(p.a)((function(e){return{root:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:1,backgroundColor:"black",color:"white"},bar:{position:"absolute",height:"100%",width:"100%",margin:"2%"},title:{position:"absolute",zIndex:1,textAlign:"left",margin:"2%",color:"white"}}}))),ue={set_scene:m},me=Object(u.b)((function(e){return{}}),ue)((function(e){var t=e.title,a=e.set_scene,i=se();Object(n.useEffect)((function(){}));return o.a.createElement("div",{className:i.root},o.a.createElement("div",{className:i.bar},o.a.createElement("span",{onClick:function(){console.log("onBack set_page"),a("PortraitMaster"),S()}},o.a.createElement("img",{className:"appbar_title_img_arrow",src:"img/CameraBack.png"})),o.a.createElement("span",{className:"appbar_quest_title_text"},t)))})),de=Object(p.a)((function(e){return{root:{width:"100%",height:"100%"},bottomBar:{position:"fixed",height:"50px",bottom:"0px",width:"100%",backgroundColor:"#000000AA"},upload_button:{position:"absolute",top:"5px",left:"20px",height:"30px"},delete_button:{position:"absolute",top:"5px",right:"20px",height:"30px"},BottomBarButton:{position:"absolute",height:"94%",top:"3%",background:"linear-gradient(90deg, #cc6699 30%, #6666ff 80%)",borderRadius:3,border:0,color:"white",boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .3)",width:"94%",left:"3%"}}})),pe=function(e){e.set_scene;var t=e.itemCount,a=e.onClickUploadImage,n=e.onClickDeleteImage,i=e.onClickSubmit,r=(e.DeleteCanvasData,e.enableSubmit);console.log("PortraitMasterCaptureImageControlBar component start"),console.log("enableSubmit:"+r);var c=de(),l=function(){B()};return o.a.createElement("div",{className:c.root},function(){return 1==r?o.a.createElement("div",{className:c.bottomBar},o.a.createElement(h.a,{onClick:i,className:c.BottomBarButton,variant:"contained",color:"secondary"},"\ud604\uc7ac \uc0ac\uc9c4 \uc81c\ucd9c\ud558\uae30"),";"):(0!=t?(e=o.a.createElement("img",{className:c.upload_button,onClick:a,src:"img/image-select-upload-enable-icon.png"}),s=o.a.createElement("img",{className:c.delete_button,onClick:n,src:"img/image-select-delete-enable-icon.png"})):(e=o.a.createElement("img",{className:c.upload_button,onClick:l,src:"img/image-select-upload-disable-icon.png"}),s=o.a.createElement("img",{className:c.delete_button,onClick:l,src:"img/image-select-delete-disable-icon.png"})),o.a.createElement("div",{className:c.bottomBar},e,s));var e,s}())},ge={set_scene:m,DeleteCanvasData:P},he=Object(u.b)((function(e){return{_current_scene:e.scene._current_scene}}),ge)(pe),fe=a(144),ve=a(141),be=a(146),we=function(e){var t=e.title,a=e.onOKClick,n=e.onCloseClick,i=e.openDialog;return o.a.createElement("div",null,o.a.createElement(fe.a,{open:i,onClose:n,"aria-labelledby":"alert-dialog-title"},o.a.createElement(be.a,{id:"alert-dialog-title",style:{textAlign:"center"}},t),o.a.createElement(ve.a,null,o.a.createElement(h.a,{onClick:n,color:"primary"},"\ucde8\uc18c"),o.a.createElement(h.a,{onClick:a,color:"primary",autoFocus:!0},"\ud655\uc778"))))},Ce=Object(p.a)((function(e){return{root:{width:"100%",height:"100%",background:"#000000"},app_root:{position:"fixed",left:"0%",top:"0%",width:"100%",height:"8%"},body:{position:"fixed",left:"0%",top:"8%",width:"100%",height:"92%",backgroundColor:"black"},select_text:{color:"white"},ImgList:{overflowY:"auto",background:"#000000"},bottomBar:{position:"fixed",height:"50px",bottom:"0px",width:"100%",backgroundColor:"#000000AA"},upload_button:{position:"absolute",top:"5px",left:"20px",height:"30px"},delete_button:{position:"absolute",top:"5px",right:"20px",height:"30px"}}})),_e=[],Ee={set_scene:m,DeleteCanvasData:P},ye=Object(u.b)((function(e){return{_current_scene:e.scene._current_scene,_canvasData:e.camera._canvasData}}),Ee)((function(e){var t=e._canvasData,a=e.set_scene,i=e.DeleteCanvasData;console.log("PortraitMasterGridCaptureImageList component start");var r=Ce(),l=Object(n.useState)(0),s=Object(c.a)(l,2),u=s[0],m=s[1],d=o.a.useState(!1),p=Object(c.a)(d,2),g=p[0],h=p[1];Object(n.useEffect)((function(){return f(!0),function(){f(!1)}}));var v,b=function(e){for(var t=0;t<_e.length;t++)if(_e[t]==e)return!0;return!1},w=function(e){console.log("onImageClick index:"+e),function(e){console.log("toggleSelectImage:"+e);for(var t=!1,a=0;a<_e.length;a++)if(_e[a]==e){_e.splice(a,1),t=!0;break}0==t&&_e.push(e),m(_e.length)}(e),S()},C=function(e,t){var a="gridView-play_quest_thumb_img",n=b(e);return 1==n&&(a="gridView-play_quest_thumb_is_selected_img"),o.a.createElement("li",{onClick:function(){return w(e)}},o.a.createElement("div",{className:"gridView-play_quest_thumb"},o.a.createElement("img",{className:a,src:t,alt:""}),1==n?o.a.createElement("img",{className:"gridView-play_quest_thumb-check",src:"img/image-checked-icon.png",alt:""}):void 0))};v=0!=u?o.a.createElement("div",{className:r.select_text},o.a.createElement("center",null,u,"\uac1c \uc120\ud0dd\ub428")):o.a.createElement("div",{className:r.select_text},o.a.createElement("center",null,"\uc120\ud0dd \ub418\uc9c0 \uc54a\uc74c"));return o.a.createElement("div",{className:r.root},o.a.createElement("div",{className:r.app_root},o.a.createElement(me,{title:"\ub0b4 \uc0ac\uc9c4 \ud3b8\uc9d1"})),o.a.createElement("div",{className:r.body},v,o.a.createElement("div",{className:"gridView-filter-content"},o.a.createElement("ul",{className:"gridView-play_quest"},function(){var e=[];if(void 0!=window.HybridApp)for(var a=window.HybridApp.GetDirectoryFileCount()-1;a>=0;a--){var n=window.HybridApp.GetImageDataFromDirectory(a);e.push(C(a,n))}else for(a=t.length-1;a>=0;a--)e.push(C(a,t[a]));return e}()))),o.a.createElement(we,{title:"\uc0ac\uc9c4\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",onOKClick:function(){console.log("onClickDeleteImage call"),h(!1);for(var e=[],t=0;t<_e.length;t++){1==b(_e[t])&&e.push(_e[t])}var n=_e.length==e.length;_e=[],m(0),e.sort((function(e,t){return t-e}));for(t=0;t<e.length;t++)console.log("select item DeleteCanvasData call index:"+e[t]),void 0!=window.HybridApp?window.HybridApp.DeleteImageDataFromDirectory(e[t]):i(e[t]);1==n&&a("PortraitMaster"),S()},onCloseClick:function(){console.log("onDeleteImageDialogClose call"),h(!1),S()},openDialog:g}),o.a.createElement(he,{itemCount:u,onClickUploadImage:function(){console.log("onClickUploadImage call");for(var e=-1,t=0;t<_e.length;t++){if(1==b(_e[t])){e=_e[t];break}}-1!=e&&void 0!=window.HybridApp&&window.HybridApp.DoShareImage(e,"level up hero \uc778\ubb3c\uc0ac\uc9c4 \ud018\uc2a4\ud2b8"),S()},onClickDeleteImage:function(){console.log("onClickDeleteImage call"),h(!0),S()}}))})),xe=(a(103),a(66)),ke=Object(p.a)((function(e){return{root:{position:"absolute",left:"0%",top:"0%",width:"100%",height:"100%",backgroundColor:"black"},app_root:{position:"fixed",left:"0%",top:"0%",width:"100%",height:"8%"},body:{position:"fixed",left:"0%",top:"8%",width:"100%",height:"92%"},multi_select_text:{color:"white"},image_count_select_text:{color:"white"},ImgList:{overflowY:"auto",backgroundColor:"black"}}})),De=[],Se={set_scene:m,SetSelectImgIndex:d,DeleteCanvasData:P},Be=Object(u.b)((function(e){return{_current_scene:e.scene._current_scene,_canvasData:e.camera._canvasData,_selectImgIndex:e.scene._selectImgIndex}}),Se)((function(e){var t=e._canvasData,a=e.set_scene,i=e.SetSelectImgIndex,r=e._selectImgIndex,l=e.DeleteCanvasData,s=e.enableSubmit;console.log("PortraitMasterFullScreenCaptureList component start"),console.log("enableSubmit:"+s);var u=ke(),m=Object(n.useState)(0),d=Object(c.a)(m,2),p=d[0],g=d[1],h=o.a.useState(!1),b=Object(c.a)(h,2),w=b[0],C=b[1];Object(n.useEffect)((function(){return y(),f(!0),function(){f(!1)}}));var _,E,y=function(){if(De=[],console.log("onUpdateImageList"),void 0!=window.HybridApp)for(var e=window.HybridApp.GetDirectoryFileCount(),a=0;a<e;a++){var n=window.HybridApp.GetImageDataFromDirectory(a);x(a,n)}else for(a=0;a<t.length;a++)x(a,t[a])},x=function(e,t){var a={};a.index=e,a.image=t,De.push(a),g(De.length),console.log("item count:"+De.length)},k=function(){console.log("onSwipeStart call:"),S()},D=function(e){console.log("onSelectImage call:"+e),i(e)};_=p>1?o.a.createElement("div",{className:u.multi_select_text},o.a.createElement("center",null,"\uc2ac\ub77c\uc774\ub4dc\ud558\uba74 \ub2e4\ub978 \uc0ac\uc9c4 \ud45c\uc2dc")):o.a.createElement("div",{className:u.multi_select_text}),E=p>1?o.a.createElement("div",{className:u.image_count_select_text},o.a.createElement("center",null,r+1,"/",p)):o.a.createElement("div",{className:u.image_count_select_text});var B="\uc0ac\uc9c4 \ubcf4\uae30";return 1==s&&(B="\uc81c\ucd9c\ud558\uae30"),console.log("itemCount renderring update"),o.a.createElement("div",{className:u.root},o.a.createElement("div",{className:u.app_root},o.a.createElement(me,{title:B})),o.a.createElement("div",{className:u.body},_,(console.log("_items count:"+De.length),o.a.createElement(xe.Carousel,{infiniteLoop:!0,onSwipeStart:k,selectedItem:r,showArrows:!0,showStatus:!1,showThumbs:!1,onChange:D},De.map((function(e){return o.a.createElement("img",{key:e.index,src:e.image})})))),E),o.a.createElement(we,{title:"\uc0ac\uc9c4\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",onOKClick:function(){console.log("onDeleteImageOK call:"+r),C(!1),void 0!=window.HybridApp?window.HybridApp.DeleteImageDataFromDirectory(r):l(r),i(0),De.length<=1&&a("PortraitMaster"),S()},onCloseClick:function(){console.log("onDeleteImageDialogClose call"),C(!1),S()},openDialog:w}),o.a.createElement(pe,{itemCount:1,onClickUploadImage:function(){console.log("onClickUploadImage call"),void 0!=window.HybridApp&&window.HybridApp.DoShareImage(r,"level up hero \uc778\ubb3c\uc0ac\uc9c4 \ud018\uc2a4\ud2b8"),S()},onClickDeleteImage:function(){console.log("onClickDeleteImage call index:"+r),C(!0),S()},onClickSubmit:function(){console.log("onClickSubmit call"),v("onSuccess"),a("PortraitMaster"),S()},enableSubmit:s}))})),Ie=a(142),Oe=a(143),Ae=a(68),Te=a.n(Ae),Ne=a(67),je=a.n(Ne),Fe=Object(p.a)({root:{width:"100%",bottom:0,position:"fixed",flexGrow:1}}),Le={set_scene:m},He=(Object(u.b)((function(e){return{_current_scene:e.scene._current_scene}}),Le)((function(e){e._current_scene;var t=e.set_scene,a=Fe(),n=o.a.useState(0),i=Object(c.a)(n,2),r=i[0],l=i[1];return o.a.createElement(Ie.a,{value:r,onChange:function(e,a){t(a),l(a)},showLabels:!0,className:a.root},o.a.createElement(Oe.a,{value:"PortraitMaster",label:"Home",icon:o.a.createElement(je.a,null)}),o.a.createElement(Oe.a,{value:"CameraCapture",label:"\uc0ac\uc9c4\ucc0d\uae30",icon:o.a.createElement(Te.a,null)}))})),Object(p.a)((function(e){return{root:{width:"100%",height:"100%"}}}))),Re={set_scene:m},Me=Object(u.b)((function(e){return{_current_scene:e.scene._current_scene}}),Re)((function(e){var t=e._current_scene,a=(e.set_scene,e.location);console.log("Index_scene component start");var i=He(),r=o.a.useState(!1),l=Object(c.a)(r,2),u=l[0],m=l[1],d=o.a.useState(""),p=Object(c.a)(d,2),g=p[0],h=p[1],f=o.a.useState(0),v=Object(c.a)(f,2),b=v[0],w=v[1];Object(n.useEffect)((function(){var e=s.a.parse(a.search);console.log(e),m("true"==e.Complete),h(e.reward_category),w(e.reward_exp)}),[a]);return o.a.createElement("div",{className:i.root},function(){switch(t){case"CameraCapture":return o.a.createElement(ie,null);case"CameraCaptureSelect":return o.a.createElement(le,null);case"GridCaptureList":return o.a.createElement(ye,null);case"FullScreenCaptureList":return o.a.createElement(Be,{enableSubmit:!1});case"SubmitCaptureList":return o.a.createElement(Be,{enableSubmit:!0});case"PortraitMaster":default:return o.a.createElement(j,{rewardState:u,rewardCategory:g,rewardExp:b})}}())})),Ge=a(70),Ve=a(7);var Ue=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(Ge.a,null,o.a.createElement(Ve.a,{path:"/",component:Me})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pe=a(26),We={_current_scene:"IndexScene",_selectImgIndex:0};var ze=a(45),Xe=a(52),qe={_closeCamera:"",_canvasData:[]};var Ke=Object(Pe.b)({scene:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(console.log("reducer scene action call:"+t.type),t.type){case"SET_SCENE":return console.log("SET_SCENE:"+t._change_scene),Object.assign({},e,{_current_scene:t._change_scene});case"SETSELECTIMGINDEX":return console.log("SETSELECTIMGINDEX:"+t._selectImgIndex),Object.assign({},e,{_selectImgIndex:t._selectImgIndex});default:return e}},camera:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(console.log("reducer scene action call:"+t.type),t.type){case"CLOSECAMERA":return console.log("CLOSECAMERA:"+t._closeCamera),Object.assign({},e,{_closeCamera:t._closeCamera});case"ADDCANVASDATA":return console.log("ADDCANVASDATA:"+t._addCanvasData),Object(Xe.a)({},e,{_canvasData:[].concat(Object(ze.a)(e._canvasData),[t._addCanvasData])});case"DELETECANVASDATA":return console.log("DELETECANVASDATA:"+t._deleteCanvasDataIndex),Object(Xe.a)({},e,{_canvasData:[].concat(Object(ze.a)(e._canvasData.slice(0,t._deleteCanvasDataIndex)),Object(ze.a)(e._canvasData.slice(t._deleteCanvasDataIndex+1)))});default:return e}}}),Je=document.getElementById("root"),Ye=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Qe=Object(Pe.c)(Ke,Ye);r.a.render(o.a.createElement(u.a,{store:Qe},o.a.createElement(Ue,null)),Je),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},38:function(e,t,a){},78:function(e,t,a){e.exports=a(111)},83:function(e,t,a){},84:function(e,t,a){}},[[78,1,2]]]);
//# sourceMappingURL=main.cc4e64c8.chunk.js.map